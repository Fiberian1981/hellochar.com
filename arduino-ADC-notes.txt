Arduino ADC

ADC is multiplexed - you must select which input gets converted (and only one can be converted at a time)

Two modes of operation - single conversion mode and free running
    single conversion mode:
        set ADSC (AD start conversion) bit in the ADCSR register
        use an ISR for the ADC Conversion Complete interrupt
    free running mode
        initiate a conversion and then ADC will automatically start the next ones
        If a new channel is to be selected, it must be set in ADMUX before the next conversion begins. When using an ISR for getting the ADC results and setting the ADC channel, be careful not to change the ADMUX just after a conversion starts. This can lead to unspecified behaviour.


CLOCK considerations
    we set the speed at which the ADC runs - it's always (speed of Arduino / prescalar)
        prescalar is one of 2, 4, 8, 16, 32, 64, 128
        set the prescalar by setting the "ADPS" bits in the ADCSRA register
            if ADPS bits is value "x", prescalar is 2^(x+2)
    Recommended to run between 50kHz and 200 kHz for 10 bit accuracy
        can run up to 1MHz without large degredation
    The conversion itself take 13 ADC clock cycles (not arduino clock cycles; ADC cycles)


registers:

values from ADC are stored in:
ADCH - upper 2 bits of reading
ADCL - lower 8 bits of reading

ADCMUX - same thing as ADMUX?
ADMUX - multiplex channel selector
    REFS1 and REFS0 (bit 7/6): controls reference voltage of ADC
    ADLAR (bit 5): left shifts the input value by 6 bits if 1
    MUX bits (3-0): controls which analog input to read (values 0 to 5 select ports PC0 to PC5)

ADCSRA register - AD Control and Status Register A - central hub for various ADC properties
    ADEN bit (bit 7): turns the ADC on or off
    ADSC bit (bit 6): used to initiate conversions
    ADFR bit (bit 5): toggles mode: 1 = free running, 0 = single conversion 
        also known as ADATE sometimes
    ADIF bit (bit 4): set when conversion is complete. To clear it, write a 1 into it
    ADPS bits (2..0): control the prescalar
    more info: http://www.robotplatform.com/knowledge/ADC/adc_tutorial_2.html

ADCSRB register - does other stuff (probably not important)
